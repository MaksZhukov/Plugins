!function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";n.r(e);class i{constructor(){this.events={}}on(t,e){this.events[t]=this.events[t]||[],this.events[t].push(e)}emit(t,e){this.events[t]&&this.events[t].forEach(t=>t(e))}}var s=class extends i{constructor({store:t,count:e,row:n,col:i}){super(),this.store=t||[],this.count=e||0,this.row=n||0,this.col=i||0}createData(t,e){this.store=[],this.row=t,this.col=e,this.count=t*e;for(let t=0;t<this.count;t++)this.store.push({id:t,value:"",disabled:!0});return this.emit("change",{store:this.store,count:this.count,row:this.row,col:this.col}),{row:this.row,col:this.col,store:this.store}}getInput(t){return this.store.find(e=>e.id==t)}updateClickInput(t){const e=this.getInput(t);return e.disabled=!e.disabled,this.emit("change",{store:this.store,count:this.count,row:this.row,col:this.col}),e}updateBlurInput(t){const e=this.getInput(t);return e.disabled=!e.disabled,this.emit("change",{store:this.store,count:this.count,row:this.row,col:this.col}),e}updateKeyUpInput({id:t,value:e}){const n=this.getInput(t);return n.value=e,this.emit("change",{store:this.store,count:this.count,row:this.row,col:this.col}),n}};var r=class extends i{constructor(){super(),this.app=document.getElementById("app"),this.button=document.createElement("button"),this.button.innerText="Создать таблицу",this.button.addEventListener("click",this.handlerClickButton.bind(this)),this.inputRow=document.createElement("input"),this.inputRow.placeholder="Количество строк",this.inputCol=document.createElement("input"),this.inputCol.placeholder="Количество столбцов",this.app.appendChild(this.button),this.app.appendChild(this.inputRow),this.app.appendChild(this.inputCol),this.table}createTable(t,e,n){this.inputRow.value=t,this.inputCol.value=e;const i=document.createElement("table"),s=document.createElement("tbody");let r=0;i.appendChild(s);for(let i=0;i<t;i++){let t=document.createElement("tr");for(let i=0;i<e;i++){let e=document.createElement("td"),i=document.createElement("input");i.dataset.id=n.find(t=>t.id===r).id,i.value=n.find(t=>t.id===r).value,i.classList.add("disabled"),i.readOnly=!0,i.addEventListener("click",this.handlerClickInput.bind(this)),i.addEventListener("blur",this.handlerBlurInput.bind(this)),i.addEventListener("keyup",this.handlerKeyUpInput.bind(this)),e.appendChild(i),t.appendChild(e),r++}s.appendChild(t)}this.table&&this.table.remove(),this.table=i,this.app.appendChild(i)}handlerClickButton({target:t}){this.emit("clickButton",{row:this.inputRow.value,col:this.inputCol.value})}handlerClickInput({target:t}){this.emit("click",{id:t.dataset.id})}handlerBlurInput({target:t}){this.emit("blur",{id:t.dataset.id})}handlerKeyUpInput({target:t}){this.emit("keyup",{id:t.dataset.id,value:t.value})}updateClickInput({id:t,disabled:e}){const n=this.getInputById(t);!1===e&&(n.classList.replace("disabled","enabled"),n.readOnly=e)}updateBlurInput({id:t,disabled:e}){const n=this.getInputById(t);!0===e&&(n.classList.replace("enabled","disabled"),n.readOnly=e)}updateKeyUpInput({id:t,value:e}){this.getInputById(t).value=e}getInputById(t){return document.querySelector(`[data-id="${t}"]`)}};var o=class{constructor(t,e){this.view=t,this.model=e,t.on("clickButton",this.handlerClickButton.bind(this)),t.on("click",this.handlerClickInput.bind(this)),t.on("blur",this.handlerBlurInput.bind(this)),t.on("keyup",this.handlerKeyUpInput.bind(this)),e.store.length&&t.createTable(e.row,e.col,e.store)}handlerClickButton({row:t,col:e}){const n=this.model.createData(e,t);this.view.createTable(n.row,n.col,n.store)}handlerClickInput({id:t}){const e=this.model.updateClickInput(t);this.view.updateClickInput(e)}handlerBlurInput({id:t}){const e=this.model.updateBlurInput(t);this.view.updateBlurInput(e)}handlerKeyUpInput({id:t,value:e}){const n=this.model.updateKeyUpInput({id:t,value:e});this.view.updateKeyUpInput(n)}};n(2);const l=new s(function(){return JSON.parse(localStorage.getItem("data"))}()||{});l.on("change",t=>(function(t){document.cach,localStorage.setItem("data",JSON.stringify(t))})(t));new o(new r,l)},,function(t,e,n){}]);